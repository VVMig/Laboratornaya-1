!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e){e.exports=JSON.parse('[{"Id":"69259b47-2345-59e4-9a63-12ec40365243","quantity":49,"price":"226.00","producer":"Bergnaum Inc","cайт":"http://gust.info","кассир":"Ned"},{"Id":"114760d9-903f-5473-8e8a-473639ba8f7e","quantity":7,"price":"449.00","producer":"Abernathy Group","cайт":"https://rocio.org","кассир":"Roslyn"},{"Id":"7f1dbc8f-5c26-55ab-9ff2-b5df5ff67f29","quantity":91,"price":"814.00","producer":"Roob, Adams and Heller","cайт":"https://leonardo.org","кассир":"Emile"},{"Id":"4b2f440b-d753-5f78-a670-4f9e8e64c1a7","quantity":15,"price":"895.00","producer":"Heaney and Sons","cайт":"http://darrell.net","кассир":"Gail"},{"Id":"b510f58a-8b4b-569e-9242-6057d48b556b","quantity":89,"price":"105.00","producer":"Bins, Keebler and Mitchell","cайт":"http://lillie.com","кассир":"Roxanne"},{"Id":"35ea6309-3bc1-5148-b7dc-05b4154dc4ee","quantity":29,"price":"221.00","producer":"Douglas, Borer and Jacobi","cайт":"https://maximillian.org","кассир":"Monty"},{"Id":"55a1294c-e85a-5469-bafb-faa98d773e57","quantity":74,"price":"252.00","producer":"Friesen, Nicolas and Simonis","cайт":"http://zelma.biz","кассир":"Dejah"},{"Id":"aed6b415-c2a8-5221-9468-5a4702b26a08","quantity":2,"price":"174.00","producer":"Barton, Veum and Ritchie","cайт":"http://ed.net","кассир":"Idella"},{"Id":"707c38f7-d2b1-5a3a-b384-d9aa335d79f4","quantity":80,"price":"529.00","producer":"Haley, Waelchi and Kilback","cайт":"https://gilberto.org","кассир":"Elizabeth"},{"Id":"ab20a832-deca-5d7b-967d-c28b8465c91d","quantity":41,"price":"866.00","producer":"Pagac - Kertzmann","cайт":"https://okey.name","кассир":"Skylar"},{"Id":"f58701ba-5dfb-5b1d-921e-ef8d58263343","quantity":13,"price":"267.00","producer":"Franecki and Sons","cайт":"https://junior.biz","кассир":"Gina"},{"Id":"d822c64e-4b24-5e94-a5d8-886b9bcf9d8c","quantity":7,"price":"271.00","producer":"Jerde Inc","cайт":"http://khalil.com","кассир":"Newton"},{"Id":"4f6af5bc-7cc7-52f7-a9c2-7dcb8d1139bd","quantity":50,"price":"472.00","producer":"Cole Inc","cайт":"https://wilbert.com","кассир":"Kacey"},{"Id":"cf8f30d5-7d84-5208-9fed-9742255e3e90","quantity":35,"price":"711.00","producer":"Mayer - Emard","cайт":"http://virgil.net","кассир":"Trystan"},{"Id":"e6aa555a-18b2-5c6e-a7e8-1a04d237ceaa","quantity":20,"price":"26.00","producer":"Konopelski, Weissnat and Powlowski","cайт":"http://tiffany.name","кассир":"Rhea"},{"Id":"7281210a-8232-5d8e-bfb8-2e889802c818","quantity":16,"price":"130.00","producer":"Quitzon LLC","cайт":"http://hester.info","кассир":"Eloisa"},{"Id":"d7db2721-6d43-53d0-8d71-429b5d164c85","quantity":11,"price":"318.00","producer":"Nienow, Stokes and Champlin","cайт":"https://anika.name","кассир":"Enola"},{"Id":"77327f7b-851a-56a6-b023-018ca19264ca","quantity":87,"price":"757.00","producer":"Mayer, King and Jacobson","cайт":"https://dante.name","кассир":"Stone"},{"Id":"9c60002b-2a82-51a1-809a-9521cd9c3053","quantity":18,"price":"293.00","producer":"Kris Group","cайт":"http://marilou.com","кассир":"Camden"},{"Id":"d90dab86-94ac-5b75-8b96-c59d43969839","quantity":24,"price":"595.00","producer":"Bauch, Borer and Mertz","cайт":"https://keagan.biz","кассир":"Mustafa"}]')},function(e,t,r){"use strict";r.r(t);var n=r(0);function a(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(){var e=document.querySelectorAll("#table tbody tr"),t=document.querySelector("#table tbody");function r(){this.classList.add("draggable"),e.forEach((function(e){return e.classList.remove("nodrag")}))}function n(){this.classList.remove("draggable"),e.forEach((function(e){return e.classList.add("nodrag")}))}e.forEach((function(e){e.addEventListener("dragstart",r),e.addEventListener("dragend",n)})),t.addEventListener("dragover",(function(e){e.preventDefault();var r,n=(r=e.clientY,a(t.querySelectorAll("tbody tr:not(.draggable)")).reduce((function(e,t){var n=t.getBoundingClientRect(),a=r-n.top-n.height/2;return a<0&&a>e.offset?{offset:a,element:t}:e}),{offset:Number.NEGATIVE_INFINITY})),o=document.querySelector(".draggable");void 0!==n.element?n.element.before(o):t.append(o)}))}function c(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t){var r=t.get(e);if(!r)throw new TypeError("attempted to get private field on non-instance");return r.get?r.get.call(e):r.value}function l(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}function s(e,t,r){var n=t.get(e);if(!n)throw new TypeError("attempted to set private field on non-instance");if(n.set)n.set.call(e,r);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=r}return r}var f,p=new WeakMap,b=new WeakMap,m=new WeakSet,y=new WeakSet,h=new WeakSet,v=new WeakSet,g=function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),v.add(this),h.add(this),y.add(this),m.add(this),p.set(this,{writable:!0,value:[]}),b.set(this,{writable:!0,value:null}),s(this,p,t),s(this,b,c(r.cells).map((function(e){return e.innerText}))),l(this,m,S).call(this)},S=function(){var e=document.createElement("div"),t=document.createElement("table"),r=document.createElement("thead"),n=document.createElement("tbody"),a=document.createElement("span");e.classList.add("d-flex","modal","justify-content-center","align-items-center"),t.classList.add("table","table-bordered"),r.classList.add("thead-dark"),n.classList.add("bg-light"),a.classList.add("modal-close"),a.innerHTML="&times;",l(this,v,E).call(this,r),l(this,h,A).call(this,n),a.addEventListener("click",l(this,y,w).bind(this)),t.append(r,n),e.append(a,t),document.body.append(e),document.body.style.overflow="hidden",document.querySelector(".container").style.filter="blur(10px)"},w=function(){var e=document.querySelector(".modal"),t=c(e.querySelectorAll("td")).map((function(e){return e.firstChild.innerText})),r=Object.keys(d(this,p)[0]).find((function(e){return"id"==e.toLowerCase()})),n=d(this,p).findIndex((function(e){return e[r]===t[0]})),a=0;for(var o in d(this,p)[n])d(this,p)[n][o]=t[a],a++;document.body.style.overflow="visible",document.querySelector(".container").style.filter="none",e.remove(),j.drawTbody()},A=function(e){var t=this,r=document.createElement("tr");d(this,b).forEach((function(e,n){if(n!==d(t,b).length-1){var a=document.createElement("td"),o=document.createElement("span");0!==n&&o.setAttribute("contenteditable","true"),o.innerText=e,a.append(o),r.append(a)}})),e.append(r)},E=function(e){var t=document.createElement("tr");for(var r in e.append(t),d(this,p)[0]){var n=document.createElement("th");n.innerText=r,t.append(n)}return e};function I(e){return function(e){if(Array.isArray(e))return q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return q(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var T,j={drawTbody:function(){var e=document.querySelector("#table tbody");C(),f.forEach((function(t){var r=document.createElement("tr"),n=document.createElement("td");for(var a in n.insertAdjacentHTML("afterbegin","<span class='tools delete-item mr-1'>&#10060;</span><span class='tools edit-item'>&#9998;</span>"),r.classList.add("nodrag"),r.setAttribute("draggable","true"),t){var o=document.createElement("td");o.innerText=t[a],r.append(o)}r.append(n),e.append(r)})),i()},clearTbody:C,clearTbodyBtn:function(){document.querySelector("#clear").addEventListener("click",C)},addHeadersForTable:function(e){f=e;var t=document.querySelector("#table"),r=document.createElement("thead"),n=document.createElement("tr");for(var a in r.classList.add("thead-dark"),t.prepend(r),r.append(n),f[0]){var o=document.createElement("th");o.innerText=a,n.append(o)}var i=document.createElement("th");return n.append(i),t}};function L(e){var t;"span"===e.target.localName&&(e.target.classList.contains("edit-item")?(t=e.target.parentElement.parentElement,new g(f,t)):function(e){var t=I(document.querySelectorAll("#table th")).findIndex((function(e){return"id"===e.innerText.toLowerCase()})),r=e.children[t].innerText,n=Object.keys(f[0]).find((function(e){return"id"===e.toLowerCase()})),a=f.findIndex((function(e){return e[n]===r}));f.splice(a,1),e.remove()}(e.target.parentElement.parentElement))}function C(e){for(var t=document.querySelector("#table tbody");t.firstChild;)t.removeChild(t.firstChild);e&&(f.splice(0,f.length),e.target.blur())}function x(e,t,r,n){!function e(t,r,a){if(a<=r)return;var o=function(e,t,r,a){var o=t,i=t+1,c=r;for(;;){if(a){for(;e[i][n]<e[o][n]&&i<r;)i++;for(;e[c][n]>=e[o][n]&&c>t;)c--}else{for(;Number(e[i][n])<Number(e[o][n])&&i<r;)i++;for(;Number(e[c][n])>=Number(e[o][n])&&c>t;)c--}if(i>=c)break;var u=[e[c],e[i]];e[i]=u[0],e[c]=u[1]}var d=[e[o],e[c]];return e[c]=d[0],e[o]=d[1],c}(t,r,a,isNaN(Number(t[r])));e(t,r,o-1),e(t,o+1,a)}(e,t,r)}function O(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}document.querySelector("#table tbody").addEventListener("click",L);var M={generateSortBtns:function(e){T=e;var t=document.querySelector("#table"),r=document.createElement("div");for(var n in r.classList.add("d-flex","justify-content-between","w-100","mt-3"),T[0])if("id"!==n.toLowerCase()){var a=document.createElement("button");a.setAttribute("data-sort","true"),a.classList.add("btn","btn-success","m-1"),a.innerText="Sort by ".concat(n.split("").map((function(e,t){return 0==t?e.toUpperCase():e})).join("")),r.append(a)}t.before(r)},sortBtnsHandler:function(){O(document.querySelectorAll("[data-sort=true]")).forEach((function(e){e.addEventListener("click",N)}))},sortBtnPressed:N};function N(e){if(e.target.blur(),0!=T.length){var t=Object.keys(T[0]).find((function(t){return t.toLowerCase()==e.target.innerText.split("Sort by ")[1].toLowerCase()}));x(T,0,T.length-1,t),j.drawTbody()}}var B="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),R=new Uint8Array(16);function U(){if(!B)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return B(R)}var H=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var z=function(e){return"string"==typeof e&&H.test(e)},P=[],W=0;W<256;++W)P.push((W+256).toString(16).substr(1));var F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(P[e[t+0]]+P[e[t+1]]+P[e[t+2]]+P[e[t+3]]+"-"+P[e[t+4]]+P[e[t+5]]+"-"+P[e[t+6]]+P[e[t+7]]+"-"+P[e[t+8]]+P[e[t+9]]+"-"+P[e[t+10]]+P[e[t+11]]+P[e[t+12]]+P[e[t+13]]+P[e[t+14]]+P[e[t+15]]).toLowerCase();if(!z(r))throw TypeError("Stringified UUID is invalid");return r};var K,V,$=function(e,t,r){var n=(e=e||{}).random||(e.rng||U)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var a=0;a<16;++a)t[r+a]=n[a];return t}return F(n)};function _(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var G={generateForm:function(e){K=e,V=Object.keys(K[0]);var t=document.querySelector("#addItem div"),r=document.createElement("input");for(var n in r.setAttribute("type","submit"),r.classList.add("btn","btn-primary"),r.setAttribute("value","Add item"),K[0])if("id"!==n.toLowerCase()){var a=document.createElement("input");a.classList.add("form-control","mr-2"),"price"===n.toLowerCase()||"quantity"===n.toLowerCase()?a.setAttribute("type","number"):a.setAttribute("type","text"),a.setAttribute("required",""),a.setAttribute("placeholder","".concat(n.split("").map((function(e,t){return 0==t?e.toUpperCase():e})).join(""))),t.append(a)}t.append(r),document.querySelector("#addItem").addEventListener("submit",J)}};function J(e){e.preventDefault();for(var t=_(e.target.querySelectorAll("input:not([type=submit])")),r={},n=0,a=0;n<t.length;n++,a++)"id"===V[a].toLowerCase()&&(r[V[a]]=$(),a++),r[V[a]]=t[n].value,t[n].value="";K.push(r),e.submitter.blur(),j.drawTbody()}function Y(e){return function(e){if(Array.isArray(e))return X(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Q(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){if(e){if("string"==typeof e)return X(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?X(e,t):void 0}}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Z={stats:function(e,t){var r=Y(document.querySelector("#stats").children);new MutationObserver((function(n){var a,o=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=Q(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw o}}}}(n);try{for(o.s();!(a=o.n()).done;){"childList"===a.value.type&&(r[0].innerText="Rows: ".concat(ee(e)),r[1].innerText="Average ".concat(t,": ").concat(te(e,t)))}}catch(e){o.e(e)}finally{o.f()}})).observe(e,{attributes:!0,childList:!0,subtree:!0})}};function ee(e){return e.querySelectorAll("tbody tr").length}function te(e,t){var r=Y(e.querySelectorAll("th")).findIndex((function(e){return e.innerText.toLowerCase()===t})),n=document.querySelectorAll("#table tbody tr");if(0==n.length)return 0;if(isNaN(Number(n[0].children[r].innerText)))return 0;var a=0;return n.forEach((function(e){a+=Number(e.children[r].innerText)})),Math.floor(a/n.length)}var re=j.addHeadersForTable(n);Z.stats(re,"price"),j.drawTbody(),M.generateSortBtns(n),G.generateForm(n),j.clearTbodyBtn(),M.sortBtnsHandler()}]);